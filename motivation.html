<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Motivation
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="F# Functional IO Library"/>
    <meta name="author" content="Phil Curzon"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/NovelIO/content/style.css" />
    <script type="text/javascript" src="/NovelIO/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/TheInnerLight/NovelIO">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/NovelIO/index.html">NovelIO</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Motivation" class="anchor" href="#Motivation">Motivation</a></h1>
<h2><a name="Lazy-evaluation-and-exceptions" class="anchor" href="#Lazy-evaluation-and-exceptions">Lazy evaluation and exceptions</a></h2>
<p>This example is more or less taken from Erik Meijer's Curse of the excluded middle (<a href="https://queue.acm.org/detail.cfm?ref=rss&amp;id=2611829)">https://queue.acm.org/detail.cfm?ref=rss&id=2611829)</a></p>
<p>Consider the following code where we try to combine lazy evaluation with File IO:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">floatLines</span> <span class="o">=</span> 
    <span class="k">try</span>
        <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="t">File</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="f">ReadLines</span>(<span class="s">&quot;testfile.txt&quot;</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="f">map</span> (<span onmouseout="hideTip(event, 'fs10', 10)" onmouseover="showTip(event, 'fs10', 10)" class="f">float</span>) <span class="c">// parse each line as a float</span>
    <span class="k">with</span>
        | _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs8', 11)" onmouseover="showTip(event, 'fs8', 11)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 12)" onmouseover="showTip(event, 'fs11', 12)" class="i">empty</span>

<span onmouseout="hideTip(event, 'fs8', 13)" onmouseover="showTip(event, 'fs8', 13)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 14)" onmouseover="showTip(event, 'fs12', 14)" class="f">iter</span> (<span onmouseout="hideTip(event, 'fs13', 15)" onmouseover="showTip(event, 'fs13', 15)" class="f">printfn</span> <span class="s">&quot;</span><span class="pf">%f</span><span class="s">&quot;</span>) <span onmouseout="hideTip(event, 'fs3', 16)" onmouseover="showTip(event, 'fs3', 16)" class="i">floatLines</span> <span class="c">// print each float to the console</span>
</code></pre>
<p>This code appears to be relatively safe - we have a comforting <code>try</code>/<code>with</code> block around a function that may fail at runtime.  This code, however, does not function in the way it immediately appears to.</p>
<p>In reality, the map is not actually evaluated until we enumerate the sequence with <code>Seq.iter</code>, this means that any exception, if triggered, will actually be thrown outside the <code>try</code>/<code>with</code> block causing the program to crash.</p>
<p>Consider an alternative using NovelIO's expression of IO:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 17)" onmouseover="showTip(event, 'fs14', 17)" class="i">fName</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 18)" onmouseover="showTip(event, 'fs15', 18)" class="t">File</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 19)" onmouseover="showTip(event, 'fs16', 19)" class="f">assumeValidFilename</span> <span class="s">&quot;testfile.txt&quot;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 20)" onmouseover="showTip(event, 'fs17', 20)" class="i">fileIO</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 21)" onmouseover="showTip(event, 'fs18', 21)" class="i">io</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs19', 22)" onmouseover="showTip(event, 'fs19', 22)" class="i">lines</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 23)" onmouseover="showTip(event, 'fs15', 23)" class="t">File</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 24)" onmouseover="showTip(event, 'fs20', 24)" class="f">readLines</span> <span onmouseout="hideTip(event, 'fs14', 25)" onmouseover="showTip(event, 'fs14', 25)" class="i">fName</span> <span class="c">// sequence of io actions which each read a line from a file</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs21', 26)" onmouseover="showTip(event, 'fs21', 26)" class="i">floatLines</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 27)" onmouseover="showTip(event, 'fs22', 27)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 28)" onmouseover="showTip(event, 'fs23', 28)" class="f">mapM</span> (<span onmouseout="hideTip(event, 'fs22', 29)" onmouseover="showTip(event, 'fs22', 29)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 30)" onmouseover="showTip(event, 'fs24', 30)" class="f">map</span> <span onmouseout="hideTip(event, 'fs10', 31)" onmouseover="showTip(event, 'fs10', 31)" class="f">float</span>) <span onmouseout="hideTip(event, 'fs19', 32)" onmouseover="showTip(event, 'fs19', 32)" class="i">lines</span> <span class="c">// parse each line, collecting the results</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs22', 33)" onmouseover="showTip(event, 'fs22', 33)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs25', 34)" onmouseover="showTip(event, 'fs25', 34)" class="f">iterM</span> (<span onmouseout="hideTip(event, 'fs22', 35)" onmouseover="showTip(event, 'fs22', 35)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 36)" onmouseover="showTip(event, 'fs26', 36)" class="f">putStrLn</span> <span class="o">&lt;&lt;</span> <span onmouseout="hideTip(event, 'fs27', 37)" onmouseover="showTip(event, 'fs27', 37)" class="f">sprintf</span> <span class="s">&quot;</span><span class="pf">%f</span><span class="s">&quot;</span>) <span onmouseout="hideTip(event, 'fs21', 38)" onmouseover="showTip(event, 'fs21', 38)" class="i">floatLines</span> <span class="c">// print each float to the console</span>
}

<span class="k">try</span>
    <span onmouseout="hideTip(event, 'fs22', 39)" onmouseover="showTip(event, 'fs22', 39)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 40)" onmouseover="showTip(event, 'fs28', 40)" class="f">run</span> <span onmouseout="hideTip(event, 'fs17', 41)" onmouseover="showTip(event, 'fs17', 41)" class="i">fileIO</span> <span class="c">// side effects occur *only* on this line</span>
<span class="k">with</span> 
    |_ <span class="k">-&gt;</span> () <span class="c">// error case</span>
</code></pre>
<p>This code describes exactly the same problem but we know that side-effects can occur in exactly one place <code>IO.run</code>.  That means that success or failure need be handled in only that one location.  We can therefore design complicated programs where IO is described using pure, referentially transparent functions and potentially error-prone behaviour is made very explicit and side-effects are restricted to very specific and obvious locations.</p>
<h2><a name="Side-effects-and-lazy-evaluation" class="anchor" href="#Side-effects-and-lazy-evaluation">Side-effects and lazy evaluation</a></h2>
<p>In general, writing code that combines side effects and lazy evaluation can be complex and error prone, the developer can often be left with little idea when effects will actually be triggered.</p>
<p>Consider a program that gets some keystrokes:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 42)" onmouseover="showTip(event, 'fs29', 42)" class="i">keys</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 43)" onmouseover="showTip(event, 'fs8', 43)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 44)" onmouseover="showTip(event, 'fs30', 44)" class="f">initInfinite</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs4', 45)" onmouseover="showTip(event, 'fs4', 45)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 46)" onmouseover="showTip(event, 'fs31', 46)" class="t">Console</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 47)" onmouseover="showTip(event, 'fs32', 47)" class="f">ReadKey</span>())

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 48)" onmouseover="showTip(event, 'fs33', 48)" class="i">untilEnter</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs29', 49)" onmouseover="showTip(event, 'fs29', 49)" class="i">keys</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 50)" onmouseover="showTip(event, 'fs8', 50)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 51)" onmouseover="showTip(event, 'fs34', 51)" class="f">takeWhile</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs35', 52)" onmouseover="showTip(event, 'fs35', 52)" class="i">ki</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs35', 53)" onmouseover="showTip(event, 'fs35', 53)" class="i">ki</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs36', 54)" onmouseover="showTip(event, 'fs36', 54)" class="i">Key</span> <span class="o">&lt;&gt;</span> <span onmouseout="hideTip(event, 'fs4', 55)" onmouseover="showTip(event, 'fs4', 55)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 56)" onmouseover="showTip(event, 'fs37', 56)" class="t">ConsoleKey</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 57)" onmouseover="showTip(event, 'fs38', 57)" class="i">Enter</span>)

<span onmouseout="hideTip(event, 'fs13', 58)" onmouseover="showTip(event, 'fs13', 58)" class="f">printfn</span> <span class="s">&quot;Length: </span><span class="pf">%d</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs8', 59)" onmouseover="showTip(event, 'fs8', 59)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs39', 60)" onmouseover="showTip(event, 'fs39', 60)" class="f">length</span> <span onmouseout="hideTip(event, 'fs33', 61)" onmouseover="showTip(event, 'fs33', 61)" class="i">untilEnter</span>)

<span onmouseout="hideTip(event, 'fs33', 62)" onmouseover="showTip(event, 'fs33', 62)" class="i">untilEnter</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 63)" onmouseover="showTip(event, 'fs8', 63)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 64)" onmouseover="showTip(event, 'fs9', 64)" class="f">map</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs35', 65)" onmouseover="showTip(event, 'fs35', 65)" class="i">ki</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs40', 66)" onmouseover="showTip(event, 'fs40', 66)" class="f">string</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs35', 67)" onmouseover="showTip(event, 'fs35', 67)" class="i">ki</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 68)" onmouseover="showTip(event, 'fs41', 68)" class="i">KeyChar</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs42', 69)" onmouseover="showTip(event, 'fs42', 69)" class="t">String</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 70)" onmouseover="showTip(event, 'fs43', 70)" class="f">concat</span> <span class="s">&quot;&quot;</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs13', 71)" onmouseover="showTip(event, 'fs13', 71)" class="f">printfn</span> <span class="s">&quot;String: </span><span class="pf">%s</span><span class="s">&quot;</span>
</code></pre>
<p>At first glance, this program might appear to record key strokes until the user presses 'Enter', print the length and then print the result.  Of course, it does not.</p>
<p>In reality, this program counts key strokes until the user presses 'Enter' and prints this length, then it records key strokes again until the user presses 'Enter' and prints the result.</p>
<p>If we express this program using this library, the side effects are clearly apparent:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs44', 72)" onmouseover="showTip(event, 'fs44', 72)" class="i">keysIO</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs45', 73)" onmouseover="showTip(event, 'fs45', 73)" class="t">Console</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 74)" onmouseover="showTip(event, 'fs46', 74)" class="i">readKey</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 75)" onmouseover="showTip(event, 'fs22', 75)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 76)" onmouseover="showTip(event, 'fs47', 76)" class="t">Loops</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs48', 77)" onmouseover="showTip(event, 'fs48', 77)" class="f">unfoldWhileM</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs35', 78)" onmouseover="showTip(event, 'fs35', 78)" class="i">ki</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs35', 79)" onmouseover="showTip(event, 'fs35', 79)" class="i">ki</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs36', 80)" onmouseover="showTip(event, 'fs36', 80)" class="i">Key</span> <span class="o">&lt;&gt;</span> <span onmouseout="hideTip(event, 'fs4', 81)" onmouseover="showTip(event, 'fs4', 81)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 82)" onmouseover="showTip(event, 'fs37', 82)" class="t">ConsoleKey</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 83)" onmouseover="showTip(event, 'fs38', 83)" class="i">Enter</span>)
</code></pre>
<p>We can then choose to perform the action twice (as before):</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs18', 84)" onmouseover="showTip(event, 'fs18', 84)" class="i">io</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs49', 85)" onmouseover="showTip(event, 'fs49', 85)" class="i">sequence1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 86)" onmouseover="showTip(event, 'fs44', 86)" class="i">keysIO</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs22', 87)" onmouseover="showTip(event, 'fs22', 87)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 88)" onmouseover="showTip(event, 'fs26', 88)" class="f">putStrLn</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs27', 89)" onmouseover="showTip(event, 'fs27', 89)" class="f">sprintf</span> <span class="s">&quot;Length: </span><span class="pf">%d</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs8', 90)" onmouseover="showTip(event, 'fs8', 90)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs39', 91)" onmouseover="showTip(event, 'fs39', 91)" class="f">length</span> <span onmouseout="hideTip(event, 'fs49', 92)" onmouseover="showTip(event, 'fs49', 92)" class="i">sequence1</span>)
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs50', 93)" onmouseover="showTip(event, 'fs50', 93)" class="i">sequence2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 94)" onmouseover="showTip(event, 'fs44', 94)" class="i">keysIO</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs50', 95)" onmouseover="showTip(event, 'fs50', 95)" class="i">sequence2</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 96)" onmouseover="showTip(event, 'fs8', 96)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 97)" onmouseover="showTip(event, 'fs9', 97)" class="f">map</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs35', 98)" onmouseover="showTip(event, 'fs35', 98)" class="i">ki</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs40', 99)" onmouseover="showTip(event, 'fs40', 99)" class="f">string</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs35', 100)" onmouseover="showTip(event, 'fs35', 100)" class="i">ki</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 101)" onmouseover="showTip(event, 'fs41', 101)" class="i">KeyChar</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs42', 102)" onmouseover="showTip(event, 'fs42', 102)" class="t">String</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 103)" onmouseover="showTip(event, 'fs43', 103)" class="f">concat</span> <span class="s">&quot;&quot;</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 104)" onmouseover="showTip(event, 'fs27', 104)" class="f">sprintf</span> <span class="s">&quot;String: </span><span class="pf">%s</span><span class="s">&quot;</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 105)" onmouseover="showTip(event, 'fs22', 105)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 106)" onmouseover="showTip(event, 'fs26', 106)" class="f">putStrLn</span>
} <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 107)" onmouseover="showTip(event, 'fs22', 107)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 108)" onmouseover="showTip(event, 'fs28', 108)" class="f">run</span>
</code></pre>
<p>Or execute the action only once:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs18', 109)" onmouseover="showTip(event, 'fs18', 109)" class="i">io</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs51', 110)" onmouseover="showTip(event, 'fs51', 110)" class="i">sequence</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 111)" onmouseover="showTip(event, 'fs44', 111)" class="i">keysIO</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs22', 112)" onmouseover="showTip(event, 'fs22', 112)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 113)" onmouseover="showTip(event, 'fs26', 113)" class="f">putStrLn</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs27', 114)" onmouseover="showTip(event, 'fs27', 114)" class="f">sprintf</span> <span class="s">&quot;Length: </span><span class="pf">%d</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs8', 115)" onmouseover="showTip(event, 'fs8', 115)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs39', 116)" onmouseover="showTip(event, 'fs39', 116)" class="f">length</span> <span onmouseout="hideTip(event, 'fs51', 117)" onmouseover="showTip(event, 'fs51', 117)" class="i">sequence</span>)
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs51', 118)" onmouseover="showTip(event, 'fs51', 118)" class="i">sequence</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 119)" onmouseover="showTip(event, 'fs8', 119)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 120)" onmouseover="showTip(event, 'fs9', 120)" class="f">map</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs35', 121)" onmouseover="showTip(event, 'fs35', 121)" class="i">ki</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs40', 122)" onmouseover="showTip(event, 'fs40', 122)" class="f">string</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs35', 123)" onmouseover="showTip(event, 'fs35', 123)" class="i">ki</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 124)" onmouseover="showTip(event, 'fs41', 124)" class="i">KeyChar</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs42', 125)" onmouseover="showTip(event, 'fs42', 125)" class="t">String</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 126)" onmouseover="showTip(event, 'fs43', 126)" class="f">concat</span> <span class="s">&quot;&quot;</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 127)" onmouseover="showTip(event, 'fs27', 127)" class="f">sprintf</span> <span class="s">&quot;String: </span><span class="pf">%s</span><span class="s">&quot;</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 128)" onmouseover="showTip(event, 'fs22', 128)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 129)" onmouseover="showTip(event, 'fs26', 129)" class="f">putStrLn</span>
} <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 130)" onmouseover="showTip(event, 'fs22', 130)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 131)" onmouseover="showTip(event, 'fs28', 131)" class="f">run</span>
</code></pre>
<p>In both cases, we have successfully made our decision explicit.</p>
<h2><a name="Random-numbers" class="anchor" href="#Random-numbers">Random numbers</a></h2>
<p>Sequences of random numbers are another area where side-effects can be particularly devastating while being produced by code that looks innocuous.</p>
<p>Consider this code:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs52', 132)" onmouseover="showTip(event, 'fs52', 132)" class="i">rnd</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 133)" onmouseover="showTip(event, 'fs4', 133)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 134)" onmouseover="showTip(event, 'fs53', 134)" class="t">Random</span>()

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs54', 135)" onmouseover="showTip(event, 'fs54', 135)" class="i">randomSeq</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 136)" onmouseover="showTip(event, 'fs8', 136)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 137)" onmouseover="showTip(event, 'fs55', 137)" class="f">init</span> <span class="n">20</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs52', 138)" onmouseover="showTip(event, 'fs52', 138)" class="i">rnd</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs56', 139)" onmouseover="showTip(event, 'fs56', 139)" class="f">Next</span>())
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 140)" onmouseover="showTip(event, 'fs57', 140)" class="i">sortedSeq</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 141)" onmouseover="showTip(event, 'fs8', 141)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 142)" onmouseover="showTip(event, 'fs58', 142)" class="f">sort</span> <span onmouseout="hideTip(event, 'fs54', 143)" onmouseover="showTip(event, 'fs54', 143)" class="i">randomSeq</span>

<span onmouseout="hideTip(event, 'fs13', 144)" onmouseover="showTip(event, 'fs13', 144)" class="f">printfn</span> <span class="s">&quot;Sorted: </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs57', 145)" onmouseover="showTip(event, 'fs57', 145)" class="i">sortedSeq</span>
<span onmouseout="hideTip(event, 'fs13', 146)" onmouseover="showTip(event, 'fs13', 146)" class="f">printfn</span> <span class="s">&quot;Random: </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs54', 147)" onmouseover="showTip(event, 'fs54', 147)" class="i">randomSeq</span>
</code></pre>
<p>Indeed, the numbers shown in the 'Sorted' and 'Random' lists could be totally different.  Each time we enumerate <strong>randomSeq</strong>, the side effect of getting the next random number is produced again!</p>
<p>Here is the same program written using NovelIO.  Notice that we have to explicitly ask for a second sequence.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs18', 148)" onmouseover="showTip(event, 'fs18', 148)" class="i">io</span> {
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 149)" onmouseover="showTip(event, 'fs59', 149)" class="i">randomSeqIO</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 150)" onmouseover="showTip(event, 'fs22', 150)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs60', 151)" onmouseover="showTip(event, 'fs60', 151)" class="f">replicateM</span> (<span onmouseout="hideTip(event, 'fs61', 152)" onmouseover="showTip(event, 'fs61', 152)" class="t">Random</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 153)" onmouseover="showTip(event, 'fs62', 153)" class="i">nextIO</span>) <span class="n">20</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs63', 154)" onmouseover="showTip(event, 'fs63', 154)" class="i">randomSeq</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 155)" onmouseover="showTip(event, 'fs59', 155)" class="i">randomSeqIO</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs64', 156)" onmouseover="showTip(event, 'fs64', 156)" class="i">randomSeq2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 157)" onmouseover="showTip(event, 'fs59', 157)" class="i">randomSeqIO</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 158)" onmouseover="showTip(event, 'fs65', 158)" class="i">sortedSeq</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 159)" onmouseover="showTip(event, 'fs8', 159)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 160)" onmouseover="showTip(event, 'fs58', 160)" class="f">sort</span> <span onmouseout="hideTip(event, 'fs64', 161)" onmouseover="showTip(event, 'fs64', 161)" class="i">randomSeq2</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs22', 162)" onmouseover="showTip(event, 'fs22', 162)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 163)" onmouseover="showTip(event, 'fs26', 163)" class="f">putStrLn</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs27', 164)" onmouseover="showTip(event, 'fs27', 164)" class="f">sprintf</span> <span class="s">&quot;Sorted: </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs65', 165)" onmouseover="showTip(event, 'fs65', 165)" class="i">sortedSeq</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs22', 166)" onmouseover="showTip(event, 'fs22', 166)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 167)" onmouseover="showTip(event, 'fs26', 167)" class="f">putStrLn</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs27', 168)" onmouseover="showTip(event, 'fs27', 168)" class="f">sprintf</span> <span class="s">&quot;Random: </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs63', 169)" onmouseover="showTip(event, 'fs63', 169)" class="i">randomSeq</span>
    } <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 170)" onmouseover="showTip(event, 'fs22', 170)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 171)" onmouseover="showTip(event, 'fs28', 171)" class="f">run</span>
</code></pre>
<p>If we do not ask for the second sequence, we get what was the original desired behaviour of the program:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs18', 172)" onmouseover="showTip(event, 'fs18', 172)" class="i">io</span> {
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 173)" onmouseover="showTip(event, 'fs59', 173)" class="i">randomSeqIO</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 174)" onmouseover="showTip(event, 'fs22', 174)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs60', 175)" onmouseover="showTip(event, 'fs60', 175)" class="f">replicateM</span> (<span onmouseout="hideTip(event, 'fs61', 176)" onmouseover="showTip(event, 'fs61', 176)" class="t">Random</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 177)" onmouseover="showTip(event, 'fs62', 177)" class="i">nextIO</span>) <span class="n">20</span>
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs63', 178)" onmouseover="showTip(event, 'fs63', 178)" class="i">randomSeq</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 179)" onmouseover="showTip(event, 'fs59', 179)" class="i">randomSeqIO</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 180)" onmouseover="showTip(event, 'fs65', 180)" class="i">sortedSeq</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 181)" onmouseover="showTip(event, 'fs8', 181)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 182)" onmouseover="showTip(event, 'fs58', 182)" class="f">sort</span> <span onmouseout="hideTip(event, 'fs63', 183)" onmouseover="showTip(event, 'fs63', 183)" class="i">randomSeq</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs22', 184)" onmouseover="showTip(event, 'fs22', 184)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 185)" onmouseover="showTip(event, 'fs26', 185)" class="f">putStrLn</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs27', 186)" onmouseover="showTip(event, 'fs27', 186)" class="f">sprintf</span> <span class="s">&quot;Sorted: </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs65', 187)" onmouseover="showTip(event, 'fs65', 187)" class="i">sortedSeq</span>
    <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs22', 188)" onmouseover="showTip(event, 'fs22', 188)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 189)" onmouseover="showTip(event, 'fs26', 189)" class="f">putStrLn</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs27', 190)" onmouseover="showTip(event, 'fs27', 190)" class="f">sprintf</span> <span class="s">&quot;Random: </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs63', 191)" onmouseover="showTip(event, 'fs63', 191)" class="i">randomSeq</span>
    } <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 192)" onmouseover="showTip(event, 'fs22', 192)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 193)" onmouseover="showTip(event, 'fs28', 193)" class="f">run</span>
</code></pre>
<p>Hopefully this demonstrates how being explicit about when side-effects occur can massively improve the ability of developers to understand and reason about their code.</p>

<div class="tip" id="fs1">namespace NovelFS</div>
<div class="tip" id="fs2">namespace NovelFS.NovelIO</div>
<div class="tip" id="fs3">val floatLines : seq&lt;float&gt;<br /><br />Full name: Motivation.floatLines</div>
<div class="tip" id="fs4">namespace System</div>
<div class="tip" id="fs5">namespace System.IO</div>
<div class="tip" id="fs6">type File =<br />&#160;&#160;static member AppendAllLines : path:string * contents:IEnumerable&lt;string&gt; -&gt; unit + 1 overload<br />&#160;&#160;static member AppendAllText : path:string * contents:string -&gt; unit + 1 overload<br />&#160;&#160;static member AppendText : path:string -&gt; StreamWriter<br />&#160;&#160;static member Copy : sourceFileName:string * destFileName:string -&gt; unit + 1 overload<br />&#160;&#160;static member Create : path:string -&gt; FileStream + 3 overloads<br />&#160;&#160;static member CreateText : path:string -&gt; StreamWriter<br />&#160;&#160;static member Decrypt : path:string -&gt; unit<br />&#160;&#160;static member Delete : path:string -&gt; unit<br />&#160;&#160;static member Encrypt : path:string -&gt; unit<br />&#160;&#160;static member Exists : path:string -&gt; bool<br />&#160;&#160;...<br /><br />Full name: System.IO.File</div>
<div class="tip" id="fs7">System.IO.File.ReadLines(path: string) : System.Collections.Generic.IEnumerable&lt;string&gt;<br />System.IO.File.ReadLines(path: string, encoding: System.Text.Encoding) : System.Collections.Generic.IEnumerable&lt;string&gt;</div>
<div class="tip" id="fs8">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs9">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.map</div>
<div class="tip" id="fs10">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = System.Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs11">val empty&lt;&#39;T&gt; : seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.empty</div>
<div class="tip" id="fs12">val iter : action:(&#39;T -&gt; unit) -&gt; source:seq&lt;&#39;T&gt; -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.Seq.iter</div>
<div class="tip" id="fs13">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs14">val fName : Filename<br /><br />Full name: Motivation.fName</div>
<div class="tip" id="fs15">module File<br /><br />from NovelFS.NovelIO</div>
<div class="tip" id="fs16">val assumeValidFilename : path:string -&gt; Filename<br /><br />Full name: NovelFS.NovelIO.File.assumeValidFilename</div>
<div class="tip" id="fs17">val fileIO : IO&lt;unit&gt;<br /><br />Full name: Motivation.fileIO</div>
<div class="tip" id="fs18">val io : IO.IOBuilder<br /><br />Full name: NovelFS.NovelIO.IOBuilders.io</div>
<div class="tip" id="fs19">val lines : seq&lt;IO&lt;string&gt;&gt;</div>
<div class="tip" id="fs20">val readLines : filename:Filename -&gt; IO&lt;seq&lt;IO&lt;string&gt;&gt;&gt;<br /><br />Full name: NovelFS.NovelIO.File.readLines</div>
<div class="tip" id="fs21">val floatLines : seq&lt;float&gt;</div>
<div class="tip" id="fs22">Multiple items<br />module IO<br /><br />from NovelFS.NovelIO<br /><br />--------------------<br />type IO&lt;&#39;a&gt; =<br />&#160;&#160;private | Return of &#39;a<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| Delay of (unit -&gt; IO&lt;&#39;a&gt;)<br /><br />Full name: NovelFS.NovelIO.IO&lt;_&gt;</div>
<div class="tip" id="fs23">val mapM : mFunc:(&#39;a -&gt; IO&lt;&#39;b&gt;) -&gt; sequ:seq&lt;&#39;a&gt; -&gt; IO&lt;seq&lt;&#39;b&gt;&gt;<br /><br />Full name: NovelFS.NovelIO.IO.mapM</div>
<div class="tip" id="fs24">val map : f:(&#39;a -&gt; &#39;b) -&gt; x:IO&lt;&#39;a&gt; -&gt; IO&lt;&#39;b&gt;<br /><br />Full name: NovelFS.NovelIO.IO.map</div>
<div class="tip" id="fs25">val iterM : mFunc:(&#39;a -&gt; IO&lt;&#39;b&gt;) -&gt; sequ:seq&lt;&#39;a&gt; -&gt; IO&lt;unit&gt;<br /><br />Full name: NovelFS.NovelIO.IO.iterM</div>
<div class="tip" id="fs26">val putStrLn : str:string -&gt; IO&lt;unit&gt;<br /><br />Full name: NovelFS.NovelIO.IO.putStrLn</div>
<div class="tip" id="fs27">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.sprintf</div>
<div class="tip" id="fs28">val run : io:IO&lt;&#39;a&gt; -&gt; &#39;a<br /><br />Full name: NovelFS.NovelIO.IO.run</div>
<div class="tip" id="fs29">val keys : seq&lt;System.ConsoleKeyInfo&gt;<br /><br />Full name: Motivation.keys</div>
<div class="tip" id="fs30">val initInfinite : initializer:(int -&gt; &#39;T) -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.initInfinite</div>
<div class="tip" id="fs31">type Console =<br />&#160;&#160;static member BackgroundColor : ConsoleColor with get, set<br />&#160;&#160;static member Beep : unit -&gt; unit + 1 overload<br />&#160;&#160;static member BufferHeight : int with get, set<br />&#160;&#160;static member BufferWidth : int with get, set<br />&#160;&#160;static member CapsLock : bool<br />&#160;&#160;static member Clear : unit -&gt; unit<br />&#160;&#160;static member CursorLeft : int with get, set<br />&#160;&#160;static member CursorSize : int with get, set<br />&#160;&#160;static member CursorTop : int with get, set<br />&#160;&#160;static member CursorVisible : bool with get, set<br />&#160;&#160;...<br /><br />Full name: System.Console</div>
<div class="tip" id="fs32">System.Console.ReadKey() : System.ConsoleKeyInfo<br />System.Console.ReadKey(intercept: bool) : System.ConsoleKeyInfo</div>
<div class="tip" id="fs33">val untilEnter : seq&lt;System.ConsoleKeyInfo&gt;<br /><br />Full name: Motivation.untilEnter</div>
<div class="tip" id="fs34">val takeWhile : predicate:(&#39;T -&gt; bool) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.takeWhile</div>
<div class="tip" id="fs35">val ki : System.ConsoleKeyInfo</div>
<div class="tip" id="fs36">property System.ConsoleKeyInfo.Key: System.ConsoleKey</div>
<div class="tip" id="fs37">type ConsoleKey =<br />&#160;&#160;| Backspace = 8<br />&#160;&#160;| Tab = 9<br />&#160;&#160;| Clear = 12<br />&#160;&#160;| Enter = 13<br />&#160;&#160;| Pause = 19<br />&#160;&#160;| Escape = 27<br />&#160;&#160;| Spacebar = 32<br />&#160;&#160;| PageUp = 33<br />&#160;&#160;| PageDown = 34<br />&#160;&#160;| End = 35<br />&#160;&#160;...<br /><br />Full name: System.ConsoleKey</div>
<div class="tip" id="fs38">field System.ConsoleKey.Enter = 13</div>
<div class="tip" id="fs39">val length : source:seq&lt;&#39;T&gt; -&gt; int<br /><br />Full name: Microsoft.FSharp.Collections.Seq.length</div>
<div class="tip" id="fs40">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs41">property System.ConsoleKeyInfo.KeyChar: char</div>
<div class="tip" id="fs42">module String<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs43">val concat : sep:string -&gt; strings:seq&lt;string&gt; -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.String.concat</div>
<div class="tip" id="fs44">val keysIO : IO&lt;seq&lt;System.ConsoleKeyInfo&gt;&gt;<br /><br />Full name: Motivation.keysIO</div>
<div class="tip" id="fs45">module Console<br /><br />from NovelFS.NovelIO</div>
<div class="tip" id="fs46">val readKey : IO&lt;System.ConsoleKeyInfo&gt;<br /><br />Full name: NovelFS.NovelIO.Console.readKey</div>
<div class="tip" id="fs47">module Loops<br /><br />from NovelFS.NovelIO.IO</div>
<div class="tip" id="fs48">val unfoldWhileM : p:(&#39;a -&gt; bool) -&gt; f:IO&lt;&#39;a&gt; -&gt; IO&lt;seq&lt;&#39;a&gt;&gt;<br /><br />Full name: NovelFS.NovelIO.IO.Loops.unfoldWhileM</div>
<div class="tip" id="fs49">val sequence1 : seq&lt;System.ConsoleKeyInfo&gt;</div>
<div class="tip" id="fs50">val sequence2 : seq&lt;System.ConsoleKeyInfo&gt;</div>
<div class="tip" id="fs51">val sequence : seq&lt;System.ConsoleKeyInfo&gt;</div>
<div class="tip" id="fs52">val rnd : System.Random<br /><br />Full name: Motivation.rnd</div>
<div class="tip" id="fs53">Multiple items<br />type Random =<br />&#160;&#160;new : unit -&gt; Random + 1 overload<br />&#160;&#160;member Next : unit -&gt; int + 2 overloads<br />&#160;&#160;member NextBytes : buffer:byte[] -&gt; unit<br />&#160;&#160;member NextDouble : unit -&gt; float<br /><br />Full name: System.Random<br /><br />--------------------<br />System.Random() : unit<br />System.Random(Seed: int) : unit</div>
<div class="tip" id="fs54">val randomSeq : seq&lt;int&gt;<br /><br />Full name: Motivation.randomSeq</div>
<div class="tip" id="fs55">val init : count:int -&gt; initializer:(int -&gt; &#39;T) -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.init</div>
<div class="tip" id="fs56">System.Random.Next() : int<br />System.Random.Next(maxValue: int) : int<br />System.Random.Next(minValue: int, maxValue: int) : int</div>
<div class="tip" id="fs57">val sortedSeq : seq&lt;int&gt;<br /><br />Full name: Motivation.sortedSeq</div>
<div class="tip" id="fs58">val sort : source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.sort</div>
<div class="tip" id="fs59">val randomSeqIO : IO&lt;seq&lt;int&gt;&gt;</div>
<div class="tip" id="fs60">val replicateM : mFunc:IO&lt;&#39;a&gt; -&gt; n:int -&gt; IO&lt;seq&lt;&#39;a&gt;&gt;<br /><br />Full name: NovelFS.NovelIO.IO.replicateM</div>
<div class="tip" id="fs61">module Random<br /><br />from NovelFS.NovelIO</div>
<div class="tip" id="fs62">val nextIO : IO&lt;int&gt;<br /><br />Full name: NovelFS.NovelIO.Random.nextIO</div>
<div class="tip" id="fs63">val randomSeq : seq&lt;int&gt;</div>
<div class="tip" id="fs64">val randomSeq2 : seq&lt;int&gt;</div>
<div class="tip" id="fs65">val sortedSeq : seq&lt;int&gt;</div>

        </div>
        <div class="span3">
          <img src="/NovelIO/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">NovelIO</li>
            <li><a href="/NovelIO/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/NovelIO">Get Library via NuGet</a></li>
            <li><a href="http://github.com/TheInnerLight/NovelIO">Source Code on GitHub</a></li>
            <li><a href="/NovelIO/license.html">License</a></li>
            <li><a href="/NovelIO/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/NovelIO/motivation.html">Motivation</a></li>
            <li><a href="/NovelIO/oopintro.html">From an OOP Perspective</a></li>
            <li><a href="/NovelIO/files.html">Working with Files</a></li>
            <li><a href="/NovelIO/pickler.html">Using the Pickler Combinator</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/NovelIO/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/TheInnerLight/NovelIO"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
